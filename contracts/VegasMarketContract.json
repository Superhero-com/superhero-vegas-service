{"encoded_aci":{"contract":{"event":{"variant":[{"AddMarket":["address","string","int"]},{"SubmitAnswer":["address","string","int"]},{"ReceiveReward":["address","int","int"]},{"ContractBalance":["int"]}]},"functions":[{"arguments":[],"name":"init","payable":false,"returns":"VegasMarketContact.state","stateful":true},{"arguments":[{"name":"content","type":"string"},{"name":"source_url","type":"string"},{"name":"min_amount","type":"int"},{"name":"over_height","type":"int"},{"name":"answers","type":{"list":["VegasMarketContact.answer"]}}],"name":"add_market","payable":false,"returns":"VegasMarketContact.market","stateful":true},{"arguments":[{"name":"market_address","type":"address"},{"name":"market_id","type":"string"},{"name":"answer_index","type":"int"}],"name":"submit_answer","payable":true,"returns":"bool","stateful":true},{"arguments":[{"name":"market_address","type":"address"},{"name":"market_id","type":"string"}],"name":"update_market_progress_to_wait","payable":false,"returns":"bool","stateful":true},{"arguments":[{"name":"market_address","type":"address"},{"name":"market_id","type":"string"},{"name":"market_index","type":"int"}],"name":"provide_answer","payable":false,"returns":"bool","stateful":true},{"arguments":[{"name":"market_address","type":"address"},{"name":"market_id","type":"string"}],"name":"update_market_progress_to_over","payable":false,"returns":"bool","stateful":true},{"arguments":[{"name":"market_address","type":"address"},{"name":"market_id","type":"string"},{"name":"result_index","type":"int"}],"name":"private_update_market_progress_to_over","payable":false,"returns":"bool","stateful":true},{"arguments":[{"name":"market_address","type":"address"},{"name":"market_id","type":"string"}],"name":"receive_reward","payable":false,"returns":"int","stateful":true},{"arguments":[{"name":"market_id","type":"string"}],"name":"get_oracle_market_provide_count","payable":false,"returns":"int","stateful":false},{"arguments":[{"name":"account","type":"address"},{"name":"name","type":"string"}],"name":"add_aggregator_user","payable":false,"returns":"bool","stateful":true},{"arguments":[{"name":"market_address","type":"address"}],"name":"get_market_public","payable":false,"returns":{"map":["string","VegasMarketContact.market"]},"stateful":false},{"arguments":[{"name":"market_address","type":"address"},{"name":"market_id","type":"string"}],"name":"get_market","payable":false,"returns":"VegasMarketContact.market","stateful":false},{"arguments":[{"name":"market_address","type":"address"},{"name":"market_id","type":"string"}],"name":"is_user_markets_receive_record","payable":false,"returns":"bool","stateful":false},{"arguments":[{"name":"market_address","type":"address"},{"name":"market_id","type":"string"}],"name":"is_user_markets_record","payable":false,"returns":"bool","stateful":false},{"arguments":[{"name":"market_address","type":"address"},{"name":"market_id","type":"string"}],"name":"get_user_markets_record_result","payable":false,"returns":"int","stateful":false},{"arguments":[{"name":"market_address","type":"address"},{"name":"market_id","type":"string"}],"name":"get_user_markets_record","payable":false,"returns":{"map":["address","int"]},"stateful":false},{"arguments":[{"name":"market_address","type":"address"}],"name":"get_markets_start","payable":false,"returns":{"map":["string","VegasMarketContact.market"]},"stateful":false},{"arguments":[{"name":"market_address","type":"address"}],"name":"get_markets_wait","payable":false,"returns":{"map":["string","VegasMarketContact.market"]},"stateful":false},{"arguments":[{"name":"market_address","type":"address"}],"name":"get_markets_over","payable":false,"returns":{"map":["string","VegasMarketContact.market"]},"stateful":false},{"arguments":[{"name":"market_id","type":"string"}],"name":"is_oracle_market_record","payable":false,"returns":"bool","stateful":false},{"arguments":[{"name":"addr","type":"address"}],"name":"get_market_records","payable":false,"returns":{"list":["VegasMarketContact.market_rocord"]},"stateful":false},{"arguments":[],"name":"get_aggregator_user","payable":false,"returns":{"map":["address","string"]},"stateful":false},{"arguments":[{"name":"addr","type":"address"}],"name":"delete_aggregator_user","payable":false,"returns":"bool","stateful":true},{"arguments":[{"name":"market_id","type":"string"}],"name":"get_oracle_market_record","payable":false,"returns":{"map":["address","int"]},"stateful":false},{"arguments":[],"name":"get_config","payable":false,"returns":"VegasMarketContact.config","stateful":false},{"arguments":[],"name":"get_state","payable":false,"returns":"VegasMarketContact.state","stateful":false}],"kind":"contract_main","name":"VegasMarketContact","payable":true,"state":{"record":[{"name":"markets","type":{"map":["address",{"map":["string","VegasMarketContact.market"]}]}},{"name":"markets_start","type":{"map":["address",{"map":["string","VegasMarketContact.market"]}]}},{"name":"markets_wait","type":{"map":["address",{"map":["string","VegasMarketContact.market"]}]}},{"name":"markets_over","type":{"map":["address",{"map":["string","VegasMarketContact.market"]}]}},{"name":"markets_record","type":{"map":["address",{"list":["VegasMarketContact.market_rocord"]}]}},{"name":"user_markets_record","type":{"map":["address",{"map":["string",{"map":["address","int"]}]}]}},{"name":"user_markets_receive_record","type":{"map":["address",{"map":["string",{"map":["address","int"]}]}]}},{"name":"oracle_market","type":{"map":["string",{"list":["int"]}]}},{"name":"oracle_market_count","type":{"map":["string","int"]}},{"name":"oracle_market_record","type":{"map":["string",{"map":["address","int"]}]}},{"name":"owner","type":"address"},{"name":"aggregator_user","type":{"map":["address","string"]}},{"name":"config","type":"VegasMarketContact.config"}]},"type_defs":[{"name":"market_rocord","typedef":{"record":[{"name":"market_id","type":"string"},{"name":"owner","type":"address"},{"name":"content","type":"string"},{"name":"amount","type":"int"},{"name":"put_result","type":"string"},{"name":"put_result_index","type":"int"},{"name":"put_time","type":"int"},{"name":"put_height","type":"int"}]},"vars":[]},{"name":"config","typedef":{"record":[{"name":"oracle_trigger_count","type":"int"},{"name":"market_min_height","type":"int"},{"name":"market_max_height","type":"int"},{"name":"record_max_count","type":"int"}]},"vars":[]},{"name":"market","typedef":{"record":[{"name":"market_id","type":"string"},{"name":"owner","type":"address"},{"name":"content","type":"string"},{"name":"source_url","type":"string"},{"name":"answers","type":{"list":["VegasMarketContact.answer"]}},{"name":"create_height","type":"int"},{"name":"create_time","type":"int"},{"name":"over_height","type":"int"},{"name":"min_amount","type":"int"},{"name":"total_amount","type":"int"},{"name":"receive_amount","type":"int"},{"name":"put_count","type":"int"},{"name":"receive_count","type":"int"},{"name":"result","type":"int"},{"name":"progress","type":"int"},{"name":"market_type","type":"int"}]},"vars":[]},{"name":"answer","typedef":{"record":[{"name":"content","type":"string"},{"name":"count","type":"int"}]},"vars":[]}]}},"external_encoded_aci":[{"namespace":{"name":"ListInternal","type_defs":[]}},{"namespace":{"name":"List","type_defs":[]}},{"namespace":{"name":"String","type_defs":[]}}],"interface":"\n\n\npayable main contract VegasMarketContact =\n  record state = {markets : map(address, map(string, VegasMarketContact.market)),markets_start : map(address, map(string, VegasMarketContact.market)),markets_wait : map(address, map(string, VegasMarketContact.market)),markets_over : map(address, map(string, VegasMarketContact.market)),markets_record : map(address, list(VegasMarketContact.market_rocord)),user_markets_record : map(address, map(string, map(address, int))),user_markets_receive_record : map(address, map(string, map(address, int))),oracle_market : map(string, list(int)),oracle_market_count : map(string, int),oracle_market_record : map(string, map(address, int)),owner : address,aggregator_user : map(address, string),config : VegasMarketContact.config}\n  datatype event = AddMarket(address, string, int) | SubmitAnswer(address, string, int) | ReceiveReward(address, int, int) | ContractBalance(int)\n  record market_rocord = {market_id : string,owner : address,content : string,amount : int,put_result : string,put_result_index : int,put_time : int,put_height : int}\n  record config = {oracle_trigger_count : int,market_min_height : int,market_max_height : int,record_max_count : int}\n  record market = {market_id : string,owner : address,content : string,source_url : string,answers : list(VegasMarketContact.answer),create_height : int,create_time : int,over_height : int,min_amount : int,total_amount : int,receive_amount : int,put_count : int,receive_count : int,result : int,progress : int,market_type : int}\n  record answer = {content : string,count : int}\n  stateful entrypoint init : () => VegasMarketContact.state\n  stateful entrypoint add_market : (string, string, int, int, list(VegasMarketContact.answer)) => VegasMarketContact.market\n  payable stateful entrypoint submit_answer : (address, string, int) => bool\n  stateful entrypoint update_market_progress_to_wait : (address, string) => bool\n  stateful entrypoint provide_answer : (address, string, int) => bool\n  stateful entrypoint update_market_progress_to_over : (address, string) => bool\n  stateful entrypoint private_update_market_progress_to_over : (address, string, int) => bool\n  stateful entrypoint receive_reward : (address, string) => int\n  entrypoint get_oracle_market_provide_count : (string) => int\n  stateful entrypoint add_aggregator_user : (address, string) => bool\n  entrypoint get_market_public : (address) => map(string, VegasMarketContact.market)\n  entrypoint get_market : (address, string) => VegasMarketContact.market\n  entrypoint is_user_markets_receive_record : (address, string) => bool\n  entrypoint is_user_markets_record : (address, string) => bool\n  entrypoint get_user_markets_record_result : (address, string) => int\n  entrypoint get_user_markets_record : (address, string) => map(address, int)\n  entrypoint get_markets_start : (address) => map(string, VegasMarketContact.market)\n  entrypoint get_markets_wait : (address) => map(string, VegasMarketContact.market)\n  entrypoint get_markets_over : (address) => map(string, VegasMarketContact.market)\n  entrypoint is_oracle_market_record : (string) => bool\n  entrypoint get_market_records : (address) => list(VegasMarketContact.market_rocord)\n  entrypoint get_aggregator_user : () => map(address, string)\n  stateful entrypoint delete_aggregator_user : (address) => bool\n  entrypoint get_oracle_market_record : (string) => map(address, int)\n  entrypoint get_config : () => VegasMarketContact.config\n  entrypoint get_state : () => VegasMarketContact.state\n"}
